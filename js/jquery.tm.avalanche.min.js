/**
*	Avalanche Slider
*	Version: 1.0.6
*	URL: @ThemeMountain
*	Description: Content Slider
*	Requires: jQuery 1.10+
*	Author: ThemeMountain
*	Copyright: Copyright 2013 ThemeMountain
*	License: Attribution-NonCommercial 3.0 (http://creativecommons.org/licenses/by-nc/3.0/)
*/
!function(a,t,e,i){"use strict";function n(t){t.find(".tms-caption").each(function(){var t=a(this),e=(t.data("animate-in")+"").split(";");t.addClass(t.is("[data-no-scale]")?"no-scale":"scale"),a.each(e,function(a,e){e=e.split(":");var i=e[0],n=e[1];"opacity"===i&&t.data("o",n),"scale"===i&&t.data("s",n),"easing"===i&&t.data("e",n),"transX"===i&&t.data("tx",parseFloat(n)),"transY"===i&&t.data("ty",parseFloat(n)),"transZ"===i&&t.data("tz",parseFloat(n)),"rotateX"===i&&t.data("rx",parseFloat(n)),"rotateY"===i&&t.data("ry",parseFloat(n)),"rotateZ"===i&&t.data("rz",parseFloat(n)),"duration"===i&&t.data("du",parseFloat(n)),"delay"===i&&t.data("de",parseFloat(n))}),t.data("w",parseFloat(t.css("width"))),t.data("h",parseFloat(t.css("height"))),t.data("fs",parseFloat(t.css("font-size"))),t.data("lh",parseFloat(t.css("line-height"))),t.data("pt",parseFloat(t.css("padding-top"))),t.data("pr",parseFloat(t.css("padding-right"))),t.data("pb",parseFloat(t.css("padding-bottom"))),t.data("pl",parseFloat(t.css("padding-left"))),t.data("mt",parseFloat(t.css("margin-top"))),t.data("mr",parseFloat(t.css("margin-right"))),t.data("mb",parseFloat(t.css("margin-bottom"))),t.data("ml",parseFloat(t.css("margin-left"))),t.data("bt",parseFloat(t.css("border-top-width"))),t.data("br",parseFloat(t.css("border-right-width"))),t.data("bb",parseFloat(t.css("border-bottom-width"))),t.data("bl",parseFloat(t.css("border-left-width")))})}function s(t,i,n){var s=t.find(".tms-slide"),o=0;s.each(function(){{var s=a(this),l=s.find("img").length,d=s.find("iframe, video").length;s.children(".tms-caption").length}x(s,i);var c=a('<div class="tm-loader"><div id="circle" /></div>');if(l>0&&(i.lazyLoad?c.appendTo(s):t.find(c).length||c.appendTo(t)),d){E&&s.is("[data-video-bkg]")&&s.children("video").css({display:"none"});var u=s.find("iframe, video");T(u,i),g(s,i),v(t,i)}l?s.find("img").each(function(t,d){d=a(this).data("src");var c=d.substr(d.lastIndexOf("."));(e.isRetinaDevice()&&i.retinaSupport||e.isRetinaDevice()&&a(this).is("[data-retina]"))&&(!E&&!i.retinaSupportMobile||E&&i.retinaSupportMobile)&&(d.match(/\.(svg)/i)||(d=a(this).data("src").replace(c,i.retinaSuffix+c))),a(this).css({opacity:0}).attr("src",d).one("load",function(){a(this).data("loaded",!0).css({opacity:1}),t++,t===l&&(o++,r(s,o,i,n))}).one("error",function(){console.log("Error src:"+d)})}):(o++,g(s,i),v(t,i),r(s,o,i,n))})}function r(a,t,e,i){var n=a.closest(".tm-slider-container"),s=n.find(".tms-slides"),r=n.find("li.active"),o=null,l=null;if(a.find(".no-transition").css({visibility:"visible"}),0===n.height()&&a.hasClass("active")){r.children("img").css({maxHeight:"none"});var d=r.children("img").height();n.data("refH",d),n.css({height:d+"px"}),r.children("img").css({maxHeight:"100%"})}if(g(a,e),v(n,e),e.carousel&&!e.lazyLoad&&(s.children().css({opacity:1}),s.css({opacity:0})),n.find("iframe, video").css({opacity:1}),t===s.children().length&&e.onLoadEnd&&e.onLoadEnd(),e.lazyLoad||t!==s.children().length?e.lazyLoad&&1===t&&(n.data("loaded",!0),e.autoAdvance&&i.initSlideshow()):(n.data("loaded",!0),e.autoAdvance&&i.initSlideshow()),e.lazyLoad){if(a.find(".tm-loader").length&&a.find(".tm-loader").remove(),(a.is(r)||e.carouselVisible>1)&&a.find(".tms-caption").show(),!a.hasClass("active"))return!1;P?(r.css({transition:"none",opacity:0}),clearTimeout(l),l=setTimeout(function(){r.css({transitionProperty:"opacity",transitionDuration:"700ms",opacity:1})},50)):a.animate({opacity:1}),clearTimeout(o),o=setTimeout(function(){p(r,e)},300)}else t===s.children().length&&(n.find(".tm-loader").length&&n.find(".tm-loader").remove(),r.find(".tms-caption").show(),e.carouselVisible>1&&n.find(".tms-caption").show(),P?e.carousel?s.css({transitionProperty:"opacity",transitionDuration:"700ms",opacity:1}):r.css({transitionProperty:"opacity",transitionDuration:"700ms",opacity:1}):e.carousel?s.animate({opacity:1}):r.animate({opacity:1}),clearTimeout(o),o=setTimeout(function(){p(r,e)},300),n.find(".tms-arrow-nav, .tms-pagination").css({display:"block"}))}var o=function(r,o){var c=a.extend({},a.fn.avalancheSlider.tmsOpts,o),p=a(r),b=this;c.scaleUnder=p.data("scale-under")?p.data("scale-under"):c.scaleUnder;var y=c.fulscreen?a(e).width():c.fullwidth?c.scaleUnder:parseFloat(p.data("width")?p.data("width"):p.css("width")),w=c.fulscreen?a(e).height():parseFloat(p.data("height")?p.data("height"):p.css("height"));c.animation=p.data("animation")?p.data("animation"):c.animation,c.easing=p.data("easing")?p.data("easing"):c.easing,c.speed=p.data("speed")?p.data("speed"):c.speed,c.carousel=p.data("carousel")?p.data("carousel"):c.carousel,c.carouselVisible=p.data("carousel-visible-slides")?p.data("carousel-visible-slides"):c.carouselVisible,c.autoAdvance=p.is("[data-auto-advance]")?!0:c.autoAdvance,c.interval=p.data("auto-advance-interval")?p.data("auto-advance-interval"):c.interval,p.data("transitioning",!1).data("setup",!1).data("loaded",!1).data("refW",y).data("refH",w).data("carousel-height",w),n(p);var S=p.find(".tms-slides").children("li:first-child").addClass("active");c.lazyLoad||S.css({opacity:0}),g(S,c),v(p,c);var F=p.find(".tms-slides"),T=[];if(F.children(".tms-slide").each(function(t){t++,a(this).attr("id","tms-slide-"+t),T.push(a(this).attr("id")),c.carousel||a(this).not(".active").css(P?{transition:"none",transform:"translate3d( 100%, 0, 0)"}:{left:"100%"}),(c.forceFit||a(this).is("[data-force-fit]"))&&a(this).addClass("tms-forcefit")}),E&&(c.autoPlay=!1,c.useVideoAPI=!1),c.fullscreen&&(p.css({top:0,left:0}).addClass("tms-fullscreen"),c.carouselVisible=1),c.parallax=p.is("[data-parallax]")?!0:c.parallax,c.parallaxSpeed=p.data("parallax-speed")?p.data("parallax-speed"):c.parallaxSpeed,c.parallaxScaleOut=p.is("[data-parallax-scale-out]")?!0:c.parallaxScaleOut,c.parallaxFadeOut=p.is("[data-parallax-fade-out]")?!0:c.parallaxFadeOut,c.captionScaling||p.addClass("tms-caption-no-scaling"),!c.carousel&&c.carouselVisible&&(c.carouselVisible=1),c.carouselVisible>1&&(c.animation="slide"),c.carousel&&p.addClass("tms-carousel"),c.carouselScaleHeight&&p.addClass("tms-scalable-height"),c.navArrows&&F.children().length>1){var A=a('<a href="#" />').attr("id","tms-prev").addClass("tms-arrow-nav").appendTo(p),C=a('<a href="#" />').attr("id","tms-next").addClass("tms-arrow-nav").appendTo(p);A.each(function(){a(this).on("click",function(a){a.preventDefault(),c.autoAdvance&&p.data("loaded")&&b.resetSlideshow(),b.prevSlide()})}),C.each(function(){a(this).on("click",function(a){a.preventDefault(),c.autoAdvance&&p.data("loaded")&&b.resetSlideshow(),b.nextSlide()})}),c.lazyLoad&&p.find(".tms-arrow-nav").css({display:"block"})}if(c.navPagination&&F.children().length>1){for(var O=a("<div>").addClass("tms-pagination").appendTo(p),V=1;V<F.children().length+1;V++)p.find(O).append('<a href="#" id="tms-pagination-'+V+'" data-index="'+V+'" class="tms-bullet-nav" />');var H=p.find("bullets"===c.paginationType?".tms-bullet-nav":".tms-thumb-nav");H.each(function(){a(this).on("click",function(){return S=p.find("li.active"),a(this).hasClass("active")?!1:(c.autoAdvance&&p.data("loaded")&&b.resetSlideshow(),parseFloat(a(this).data("index"))>parseFloat(O.find(".active").data("index"))?b.slideTo(a(this).data("index"),"next"):b.slideTo(a(this).data("index"),"prev"),!1)})}),O.find(".tms-bullet-nav:first-child").addClass("active"),c.lazyLoad&&O.css({display:"block"})}if(c.navShowOnHover&&p.addClass("show-on-hover"),c.navKeyboard&&F.children().length>1){var I=[];a(t).on("keydown",function(a){return I[a.keyCode]=!0,I[37]&&I[39]?!1:(I[37]?(c.autoAdvance&&p.data("loaded")&&b.resetSlideshow(),c.lazyLoad?b.prevSlide():p.data("loaded")&&b.prevSlide()):I[39]&&(c.autoAdvance&&p.data("loaded")&&b.resetSlideshow(),c.lazyLoad?b.nextSlide():p.data("loaded")&&b.nextSlide()),i)}).on("keyup",function(a){I[a.keyCode]=!1})}p.swipeIt({draggable:!1,onSwipeMove:function(){},onSwipeEnd:function(a){"left"===a?b.prevSlide():b.nextSlide()}}),a(e).on("resize",function(){S=p.find("li.active"),c.carousel&&c.carouselVisible>1?F.children(".tms-slide").each(function(){g(a(this),c)}):g(S,c),v(p,c),p.addClass("resizing"),z(function(){p.removeClass("resizing")},300,"resize")}),p.parent().hasClass("tm-slider-parallax-container")&&c.parallax?(a(e).on("scroll",function(){l(p,c)}),d(p,c)):!p.parent().hasClass("tm-slider-parallax-container")&&c.parallax&&console.log("Add the class tm-slider-parallax-container to slider parent"),c.onSetup&&c.onSetup(),p.data("setup",!0),p.data("first-load",!0);var k,B,D,L,W,R,Q,q=null,N=null;b.initSlideshow=function(){return k||F.children().length<2?!1:(c.autoAdvance=!0,!E&&c.pauseOnHover&&(F.on("mouseleave ",b.resumeSlideshow),F.on("mouseenter ",b.pauseSlideshow)),c.showProgressBar&&(Q=a("<div>").addClass("tms-progress-bar").appendTo(p)),b.startSlideshow(),U(c.interval),B=(new Date).getTime(),W=c.interval,c.onSlideshowStart&&c.onSlideshowStart(),i)},b.startSlideshow=function(a){a=a?L:c.interval,k=setInterval(function(){a!==c.interval&&(clearInterval(k),a=c.interval,W=c.interval,b.startSlideshow()),B=(new Date).getTime(),i!==Q&&Q.css({transition:"none",width:"0px"}),U(c.interval),b.nextSlide()},a)},b.pauseSlideshow=function(){return R||!k?!1:(clearInterval(k),D=(new Date).getTime(),L=50>W-(D-B)?50:W-(D-B),W=0===W?c.interval:L,i!==Q&&Q.stop().css({width:Q.width()+"px"}),R=!0,c.onSlideshowPause&&c.onSlideshowPause(),i)},b.resumeSlideshow=function(){return R?(clearInterval(k),p.data("ssPaused",!1),B=(new Date).getTime(),U(L),b.startSlideshow(L),R=!1,i):!1},b.resetSlideshow=function(){return k?(clearInterval(k),i!==Q&&Q.css({transition:"none",width:"0px"}),U(c.interval),B=(new Date).getTime(),L=c.interval,W=c.interval,b.startSlideshow(c.interval),i):!1},b.endSlideshow=function(){return k?(clearInterval(k),k="",R=!1,!E&&c.pauseOnHover&&(F.off("mouseleave ",b.resumeSlideshow),F.off("mouseenter ",b.pauseSlideshow)),i!==Q&&Q.remove(),c.onSlideshowEnd&&c.onSlideshowEnd(),i):!1};var U=function(a){return i===Q?!1:(P?(clearTimeout(q),q=setTimeout(function(){Q.css({transitionProperty:"width",width:"100%",transitionDuration:a+"ms",transitionTimingFunction:"ease"})},50)):Q.stop(!0,!0).animate({width:"100%"},a),i)};b.nextSlide=function(){if(p.data("transitioning"))return!1;var t;S=p.find("li.active");var e=T[a.inArray(S.attr("id"),T)+1];if(t=a.inArray(e,T)+1===0?1:a.inArray(e,T)+1,c.carousel&&c.carouselVisible>1){var i=m(p,c);1!==i&&(t=t===F.children().length-(i-2)?1:a.inArray(e,T)+1)}this.slideTo(t,"next")},b.prevSlide=function(){if(p.data("transitioning"))return!1;var t;S=p.find("li.active");var e=T[a.inArray(S.attr("id"),T)-1];if(t=a.inArray(e,T)+1===0?F.children().length:a.inArray(e,T)+1,c.carousel&&c.carouselVisible>1){var i=m(p,c);t=t===F.children().length?F.children().length-(i-1):a.inArray(e,T)+1}this.slideTo(t,"prev")},b.slideTo=function(t,e){if(p.data("first-load",!1),e||(S=p.find("li.active")),p.data("transitioning")||t===a.inArray(S.attr("id"),T)+1)return!1;f(p,t);var i=p.width(),n="slide"===c.animation?i:0;n*=c.carousel?t-1:1;var s=p.find("#tms-slide-"+t);s.addClass("target").css({zIndex:2,opacity:0===n?0:1}),S.css({zIndex:1}),x(s,c),(s.children("img").data("loaded")||!s.children("img").length)&&g(s,c),v(p,c,s),e||(e="next"),e=c.carousel?1:"next"===e?1:-1;var r=m(p,c);P?c.carousel?u(F,1,-(n/r)*e,0,0,0,0,0,1,c.speed,0,M[c.easing],c):(s.css({transition:"none",transform:"translate3d("+n*e+"px, 0, 0)"}),clearTimeout(N),N=setTimeout(function(){u(S,1,-n*e,0,0,0,0,0,1,c.speed,0,M[c.easing],c),u(s,1,0,0,0,0,0,0,1,c.speed,0,M[c.easing],c)},50)):c.carousel?(p.data("transitioning",!0),F.animate({opacity:1,left:-(n/r)*e+"px"},c.speed,c.easingFallback,function(){h(p,c)})):(p.data("transitioning",!0),s.css({left:i*e+"px",visibility:"visible"}).animate({opacity:1,left:"0px"},c.speed,c.easingFallback,function(){h(p,c)}),S.animate({left:-i*e+"px"},c.speed,c.easingFallback))},s(p,c,b)},l=function(t,i){var n=a(e);n.data("animating")||(n.data("animating",!0),e.requestAnimationFrame(function(){d(t,i),n.data("animating",!1)}))},d=function(t,i){var n=a(e),s=n.scrollTop(),r=(n.height(),t.parent().height()+t.parent().offset().top-s),o=s*i.parallaxSpeed,l=i.parallaxScaleOut?2-r/t.parent().height():1;l=1>l?1:l;var d=i.parallaxFadeOut?r/t.parent().height():1;!E&&P&&c(t.parent())&&t.css({transform:"translate3d( 0, "+-o+"px, 0) scale3d( "+l+","+l+", 1 )",opacity:d.toFixed(2)})},c=function(t){var i=a(e).scrollTop(),n=i+a(e).height(),s=t.offset().top,r=s+t.outerHeight();return n>=s&&r>=i},u=function(t,e,i,n,s,r,o,l,d,c,u,p,f){var m=t.closest(".tm-slider-container");(t.hasClass("active")||t.hasClass("target")||t.hasClass("tms-slides"))&&(m.data("transitioning",!0),f.onSlideBefore&&f.onSlideBefore());var v={};v.transform="translate3d("+i+"px, "+n+"px, "+s+"px)rotate3d( 1, 0, 0, "+r+"deg)rotate3d( 0, 1, 0, "+o+"deg)rotate3d( 0, 0, 1, "+l+"deg)scale3d("+d+", "+d+", "+d+")",v.transitionProperty=I+", opacity",v.transitionDuration=c+"ms",v.transitionDelay=u+"ms",v.transitionTimingFunction=p,v.visibility="visible",v.opacity=e,t.css(v).on(k,function(t){t.stopPropagation(),a(this).off(k),(a(this).hasClass("target")||a(this).hasClass("tms-slides"))&&h(m,f),a(this).hasClass("tms-caption")&&a(this).css({transition:""})})},h=function(a,t){a.data("transitioning",!1),t.onSlideAfter&&t.onSlideAfter();var e=a.find("li.active"),n=a.find("li.target");return y(e,"pause",t),1===t.carouselVisible&&e.find(".tms-caption").not(".no-transition").css({display:"none",visibility:"hidden"}),t.carousel||e.css({visibility:"hidden"}),e.removeClass("active"),n.removeClass("target").addClass("active"),e=n,y(e,"play",t),t.carouselVisible>1?!1:(p(e,t),i)},p=function(t,e){t.find(".tms-caption").not(".no-transition").show().each(function(){var t=a(this),i=a(this).data("du")?t.data("du"):e.speed,n=a(this).data("de")?t.data("de"):0,s=a(this).data("e")?M[t.data("e")]:M[e.easing],r=null;P?(clearTimeout(r),r=setTimeout(function(){u(t,1,0,0,0,0,0,0,1,i,n,s)},500)):(s=e.easingFallback,t.delay(n).css({visibility:"visible"}).animate({opacity:1},i,s))})},f=function(a,t){var e=a.find(".tms-pagination");e.find(".active").removeClass("active"),e.find("#tms-pagination-"+t).addClass("active")},m=function(t,i){var n;return n=a(e).width()<768||a(e).width()>959||i.carouselVisible<=3?a(e).width()<480||a(e).width()>767||i.carouselVisible<=2?a(e).width()>479?i.carouselVisible:1:2:3},v=function(t,e){if(!e.carousel)return!1;var i,n,s=t.find(".tms-slides"),r=t.find("li.active"),o=r.index(),l=t.find(".tms-pagination"),d=s.children().length,c=m(t,e),u=t.width()/c,h=0,p=null;s.css({overflow:"visible"}).children().each(function(t){e.carouselVisible=0===e.carouselVisible?1:e.carouselVisible,1===e.carouselVisible?(a(this).css(P?{width:u+"px",opacity:1,visibility:"visible",transform:"translate3d("+u*t+"px, 0, 0)"}:{width:u+"px",opacity:1,visibility:"visible",left:u*t+"px"}),t++):a(this).css({width:u+"px",opacity:1,visibility:"visible","float":"left",position:"relative"}),h=h>a(this).outerHeight()?h:a(this).outerHeight()}),2===c&&o>s.children().length-2?(i=s.children().length-1,n=!0):3===c&&o>s.children().length-3?(i=s.children().length-2,n=!0):o>s.children().length-c?(i=s.children().length-c+1,n=!0):(i=o,n=!1),l.children().hide().slice(0,s.children().length-c+1).show(),n&&(r.removeClass("active"),s.find("li:nth-child("+i+")").addClass("active"),f(t,i)),P?(t.data("transitioning")||s.css({width:u*d+"px",transition:"none",transform:"translate3d("+-(u*i)+"px, 0, 0)"}),clearTimeout(p),p=setTimeout(function(){s.css({transitionProperty:"opacity, "+I,transitionDuration:e.speed+"ms"})},50)):s.css({width:u*d+"px",left:-(u*i)+"px"})},g=function(t,i){var n=t.closest(".tm-slider-container, .featured-media"),s=n.parent().width(),r=n.data("refW"),o=n.data("refH"),l=i.fullscreen?a(e).width()/a(e).height():r/o,d=n.data("external-padding")?parseFloat(n.data("external-padding")):i.externalPadding,c=i.fullscreen||i.fullwidth?a(e).width()-d:s,u=i.fullscreen?a(e).height()-d:i.carousel&&i.carouselVisible>1&&!i.carouselScaleHeight?o:i.fullwidth&&s/l>o?o-d:s/l-d,h=c/u,p=i.carouselScaleHeight&&1===i.carouselVisible?!0:!1;if(n.data("newSW",c),n.data("newSH",u),i.carousel?n.css({width:Math.round(c)+"px",height:n.data("first-load")&&p?n.find("li:first-child").find(".tms-content-scalable, img").outerHeight()+"px":!n.data("first-load")&&p?t.find(".tms-content-scalable, img").outerHeight():"auto"}):(n.css({width:Math.round(c)+"px",height:u>i.scaleMinHeight||"auto"===i.scaleMinHeight?Math.round(u)+"px":i.scaleMinHeight+"px"}),i.parallax&&n.parent().css({height:n.height()+"px"}),u=u>i.scaleMinHeight||"auto"===i.scaleMinHeight?u:i.scaleMinHeight,n.data("newSH",u)),!n.data("setup")||i.carousel&&i.carouselVisible>1)return!1;var f=t.is("[data-image]")?"image":"video",m=t.is("[data-video-bkg]")?!0:!1,v=t.is("[data-video-ratio]")?parseFloat(t.data("video-ratio")):1.778;t.find("img, iframe, video, .mejs-container").not(".tms-caption img, .tms-caption iframe, .tms-caption video").each(function(){var e,n,s;if("image"===f?(e=a(this).width(),n=a(this).height()):"video"===f&&((!i.respectRatio&&!m||i.fullscreen&&!m)&&t.addClass("tms-video-no-ratio"),m?(e=i.fullwidth?u*v:c,n=i.fullwidth?u:c/v):(e=a(this).attr("width")&&c>a(this).attr("width")?a(this).attr("width"):c,n=e/v)),s=e/n,"image"===f&&i.fullscreen||i.forceFit||a(this).parent().is("[data-force-fit]")||"video"===f&&m){if(a(this).is("img")&&!a(this).data("loaded"))return!1;a(this).css(h>s?{width:!i.fullwidth||i.forceFit||a(this).parent().is("[data-force-fit]")?c+"px":"auto",height:Math.round(c/s)+"px",top:Math.round(-((c/s-u)/2))+"px",left:0}:{width:!i.fullwidth||i.forceFit||a(this).parent().is("[data-force-fit]")||m?Math.round(u*s)+"px":"auto",height:u+"px",top:0,left:Math.round(-((u*s-c)/2))+"px"})}else"video"===f&&a(this).css({width:Math.floor(e)+"px",height:Math.floor(n)+"px",top:Math.floor((u-n)/2)+"px",left:Math.floor((c-e)/2)+"px"})}),b(t,i)},b=function(t,e){var n=t.closest(".tm-slider-container"),s=n.data("newSW"),r=n.data("newSH"),o=n.data("refW"),l=n.data("refH");return!e.captionScaling||e.carouselVisible>1?!1:(t.find(".tms-caption").each(function(){if(!a(this).is("[data-no-scale]")){var t=a(this),i=t.data("x"),n=t.data("y"),d=t.data("w"),c=t.data("pt"),u=t.data("pr"),h=t.data("pb"),p=t.data("pl"),f=t.data("mt"),m=t.data("mr"),v=t.data("mb"),g=t.data("ml"),b=t.data("bt"),x=t.data("br"),y=t.data("bb"),w=t.data("bl"),S=t.data("fs"),F=0===t.data("lh")?S:t.data("lh"),T=t.is("[data-offsetx]")?parseFloat(t.data("offsetx")):0,z=t.is("[data-offsety]")?parseFloat(t.data("offsety")):0,A=0>s*(T/o)?s*(T/o):s*(T/o)>T?T:s*(T/o),C=0>r*(z/l)?s*(z/o):s*(z/o)>z?z:r*(z/l);e.fullwidth&&z>C&&0>C&&(C=z);var O;t.find("img, iframe, video").length&&(O=s*(d/o)>d?d:s*(d/o)>s?s:s*(d/o)),t.css(t.find("img").length||t.find("iframe, video").length?{width:O+"px",height:t.children("iframe, video").length?O/1.778+"px":"auto"}:{fontSize:s*(S/o)>S?S:s*(S/o)+"px",lineHeight:s*(F/o)>F?F+"px":s*(F/o)+"px",paddingTop:s*(c/o)>c?c:s*(c/o)+"px",paddingRight:s*(u/o)>u?u:s*(u/o)+"px",paddingBottom:s*(h/o)>h?h:s*(h/o)+"px",paddingLeft:s*(p/o)>p?p:s*(p/o)+"px",marginTop:s*(f/o)>f?f:s*(f/o)+"px",marginRight:s*(m/o)>m?m:s*(m/o)+"px",marginBottom:s*(v/o)>v?v:s*(v/o)+"px",marginLeft:s*(g/o)>g?g:s*(g/o)+"px",borderTopWidth:s*(b/o)>b?b:Math.ceil(s*(b/o))+"px",borderRightWidth:s*(x/o)>x?x:Math.ceil(s*(x/o))+"px",borderBottomWidth:s*(y/o)>y?y:Math.ceil(s*(y/o))+"px",borderLeftWidth:s*(w/o)>w?w:Math.ceil(s*(w/o))+"px",whiteSpace:"nowrap"}),t.css({top:"top"===n?0+C:"bottom"===n?r-t.outerHeight()-C:(r-t.outerHeight())/2+C+"px",left:"left"===i?0+A:"right"===i?s-t.outerWidth()-A:(s-t.outerWidth())/2+A+"px"})}}),i)},x=function(t,e){return e.carouselVisible>1?!1:(t.find(".tms-caption").not(".no-transition").each(function(){var t=a(this),e=t.data("o")?parseFloat(t.data("o")):0,i=t.data("tx")?parseFloat(t.data("tx")):0,n=t.data("ty")?parseFloat(t.data("ty")):0,s=t.data("tz")?parseFloat(t.data("tz")):0,r=t.data("rx")?parseFloat(t.data("rx")):0,o=t.data("ry")?parseFloat(t.data("ry")):0,l=t.data("rz")?parseFloat(t.data("rz")):0,d=t.data("s")?parseFloat(t.data("s")):1;t.css(P?{transition:"none",transform:"translate3d("+i+"px, "+n+"px, "+s+"px)rotate3d( 1, 0, 0, "+r+"deg)rotate3d( 0, 1, 0, "+o+"deg)rotate3d( 0, 0, 1, "+l+"deg)scale3d("+d+", "+d+", "+d+")",opacity:e}:{opacity:0})}),i)},y=function(t,e,n){if(!n.useVideoAPI||n.carouselVisible>1)return!1;var s;try{if(t.find("iframe").length){s="#"+t.find("iframe").attr("id");var r=a(s).attr("src");i!==r&&r.indexOf("vimeo")>-1?(s=$f(a(s)[0]),s.api("play"===e&&n.autoPlay?"play":"pause")):i!==r&&r.indexOf("youtu")>-1&&(s=s.replace("#",""),"play"===e&&n.autoPlay?w[s].playVideo():w[s].stopVideo())}else t.find("video").length&&(s="#"+t.find("video").attr("id"),"play"===e&&n.autoPlay?a(s)[0].play():a(s)[0].pause())}catch(o){}},w={},S=!1,F=!1,T=function(n,s){if(!s.useVideoAPI||s.carouselVisible>1)return!1;var r=n.attr("src"),o=new Date;if(n.attr("id","video-"+o.getTime()),i!==r&&r.indexOf("vimeo")>-1){if(n.attr("src",n.attr("src")+"&player_id="+n.attr("id")).addClass("vimeo"),!S){S=!0;var l=t.createElement("script");l.src="http://a.vimeocdn.com/js/froogaloop2.min.js";var d=t.getElementsByTagName("script")[0];d.parentNode.insertBefore(l,d)}n.on("load",function(){var t="#"+a(this).attr("id"),e=$f(a(t)[0]),i=a(this).closest("li").is(":first-child")?!0:!1;e.addEvent("ready",function(){i&&s.autoPlay&&e.api("play"),e.addEvent("finish",function(){s.replayOnEnd&&e.api("play")})})})}else if(i!==r&&r.indexOf("youtu")>-1){if(n.addClass("youtube"),!F){F=!0;var c=t.createElement("script");c.src="http://www.youtube.com/player_api";var u=t.getElementsByTagName("script")[0];u.parentNode.insertBefore(c,u)}var h=function(){a(".youtube").each(function(){var t=a(this).attr("id"),e=a(this).closest("li").is(":first-child")?!0:!1;w[t]=new YT.Player(t,{events:{onStateChange:function(a){a.data===YT.PlayerState.ENDED&&s.replayOnEnd&&w[t].playVideo()},onReady:function(){e&&s.autoPlay&&w[t].playVideo()}}})})};e.onYouTubePlayerAPIReady=function(){h()}}else if(n.is("video")){var p=t.getElementById(n.attr("id")),f=n.closest("li").is(":first-child")?!0:!1;f&&s.autoPlay&&(p.load(),p.autoplay=!0),n.parent().is("[data-video-bkg]")&&(p.muted=s.muteBkgVideo),s.replayOnEnd&&(p.loop=!0)}},z=function(){var a={};return function(t,e,i){i||(i="id"),a[i]&&clearTimeout(a[i]),a[i]=setTimeout(t,e)}}();e.isRetinaDevice=function(){var a="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return this.devicePixelRatio>1||this.matchMedia&&this.matchMedia(a).matches?!0:!1};var A,C=t.body||t.documentElement,O=C.style,P=O.transition!==i||O.WebkitTransition!==i||O.MozTransition!==i||O.MsTransition!==i||O.OTransition!==i,V=["WebkitTransform","MozTransform","OTransform","msTransform"];for(var H in V)O[V[H]]!==i&&(A="-"+V[H].replace("Transform","").toLowerCase());var I=A+"-transform",k="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",M={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.42, 0, 0.58, 1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)",easeFastSlow:"cubic-bezier(.11,.69,.66,1.01)",easeBounceBack:"cubic-bezier(.18,1.92,.59,1.33)",easeBounceBackHard:"cubic-bezier(.8,1.91,0,.94)",easeHickUp:"cubic-bezier(.28,1.78,.01,0)"},E=!1;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(E=!0),function(){for(var a=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!e.requestAnimationFrame;++i)e.requestAnimationFrame=e[t[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[t[i]+"CancelAnimationFrame"]||e[t[i]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),s=e.setTimeout(function(){t(i+n)},n);return a=i+n,s}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(a){clearTimeout(a)})}(),a.fn.avalancheSlider=function(t){return this.each(function(){var e=a(this);if(!e.data("avalancheSlider")){var i=new o(this,t);e.data("avalancheSlider",i)}})},a.fn.avalancheSlider.tmsOpts={animation:"slide",parallax:!1,easing:"easeInOutQuint",easingFallback:"easeInOutQuint",speed:700,parallaxSpeed:.2,parallaxScaleOut:!1,parallaxFadeOut:!1,navArrows:!0,navPagination:!0,navShowOnHover:!0,paginationType:"bullets",navKeyboard:!0,forceFit:!1,fullwidth:!1,fullscreen:!1,externalPadding:0,scaleUnder:1140,scaleMinHeight:214,captionScaling:!0,carousel:!1,carouselVisible:1,carouselScaleHeight:!1,autoAdvance:!0,showProgressBar:!0,interval:6e3,pauseOnHover:!0,useVideoAPI:!0,autoPlay:!0,replayOnEnd:!0,respectRatio:!0,muteBkgVideo:!1,lazyLoad:!0,retinaSupport:!0,retinaSupportMobile:!1,retinaSuffix:"@2x",onSetup:null,onLoadEnd:null,onSlideBefore:null,onSlideAfter:null,onSlideshowStart:null,onSlideshowPause:null,onSlideshowEnd:null}}(jQuery,document,window);